import sys

if len(sys.argv) != 2:
    print(f"Usage {sys.argv[0]} <file to embed>")
    exit(0)

data = open(sys.argv[1], 'rb').read()

x = f"""
char data[] = {{ {str(list(data))[1:-1]} }};
unsigned int data_len = {len(data)};
"""

with open("src/souche.h", 'w') as f:
    f.write(x)